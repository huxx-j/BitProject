<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="job">

	<!-- 검색 -->
	<!--/*기업정보 리스트 가져오기*/-->
	<select id="jobRequestList" parameterType="com.bitacademy.vo.JobSearchVo" resultType="com.bitacademy.vo.JobVo">
		<![CDATA[
			select  j.Commpany_no, 
					j.Request_no,
					j.Post,
			        j.Black, 
			        j.ReceiptDate,
			        c.CompName, 
			        j.Person,
			        j.Field,
			        j.Recruitment,
			        j.Email,
			        j.Employment 
			from JobRequest j, Company c 
			where j.Commpany_no = c.Commpany_no
		]]>
		<if test="comCondition == 'post'">
			and j.post = 1
		</if>
		<if test="comCondition == 'employment'">
			and j.employment = 1
		</if>
		<if test="comCondition == 'receiptdate'">
			and j.receiptDate between #{startDate} and #{endDate}
		</if>
		
	</select>

	<!-- 지원자 리스트 조회 -->
	<select id="getInterviewList" parameterType="Int" resultType="com.bitacademy.vo.GisuTableVo">
		<![CDATA[
			select  i.Request_no, 
					i.User_no, 
					i.Interview_no, 
					u.NameHan, 
					i.ApplyDate, 
					i.Result
			from Interview i, Users u
			where i.User_no = u.User_no
			and i.Request_no = #{request_no}
		]]>
	</select>

</mapper>